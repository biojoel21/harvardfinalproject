{% extends "invoices/layout.html" %}

{% block body %}
        
    {% if user.is_authenticated %}    
    <h2>Invoices</h2>
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Invoice Number</th>
                <th>Client</th>
                <th>Supplier</th>
                <th>Type</th>
                <th>Amount</th>
                <th>Invoice Date</th>
                <th>Active</th>
            </tr>
        </thead>
        <tbody>
            {% for invoice in invoices_page %}
                <tr>
                    <td>{{ invoice.invoicenumber }}</td>
                    <td>{{ invoice.client }}</td>
                    <td>{{ invoice.supplier }}</td>
                    <td>{{ invoice.invoicetype }}</td>
                    <td>$ {{ invoice.invoicetotal }}</td>
                    <td>{{ invoice.invoicedate }}</td> 
                    <td>{{ invoice.active }}</td>                   
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <h1>Welcome to Invoices Application.</h1>
        <p>Please <a href="{% url 'register' %}">register</a> or <a href="{% url 'login' %}">login</a> to continue.</p>        
    {% endif %}

    <nav aria-label="Page navigation">
        <ul class="pagination d-flex justify-content-center">
            {% if invoices_page.has_previous %}
                <li class="page-item"><a class="page-link" href="?page={{ invoices_page.previous_page_number }}">Previous</a></li>
            {% endif %}
            {% if invoices_page.has_next %}          
                <li class="page-item"><a class="page-link" href="?page={{ invoices_page.next_page_number }}">Next</a></li>
            {% endif %}
        </ul>
    </nav>
    
{% endblock %}